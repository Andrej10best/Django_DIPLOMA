# **Tours for the Soul**

## **Описание проекта**

Данный проект реализует бронирование туров по России. Он включает в себя приветствие с пользователем, демонстрацию туров, загруженных в базу данных, отображение описания тура, форму для отправки заявки на бронирование и обратную связь пользователю.

## **Цели:**

- Проект разработан в целях оптимизации процесса бронирования туров.

## **Функциональность:**

Функциональность данного проекта заключается в отображении всех туров на одной странице в режиме "scroll" (прокрутка страницы с турами), в отображении описания тура на странице с турами (название, локация, длительность, цена и т.д.). При переходе на определенный тур добавляется развернутое описание тура и форма для отправки данных пользователя для броинрования, а именно:

- имя;
- электронный адрес;
- номер телефона;
- количество людей в группе.

Функционал формы заключается в отправке данных пользователя в базу данных и их сохранение. Перед отправкой форма проверяется на корректность введенных данных: проверка формата электронного почтового адреса, проверка формата номера телефона (должен начинаться с +7 и иметь вид +7ХХХХХХХХХХ, где Х-цифры), а так же проверка введенного количества людей в группе (людей должно быть больше 0, но не больше свободных мест в туре. Пользователь может выбрать как одного, так и нескольких людей).

После проверки формы на корректность, данные отправляются на сервер и обрабатываются для сохранения в базу данных, параллельно происходит обновление свободных мест в туре, путем вычитания забронированных мест из свободных, а так же отправка электронного письма польззователю с данными по туру и информацией по дальнейшим действиям.

Административная часть проекта включает в себя добавление в базу данных туров, с указанием необходимых данных, загрузкой изображения, удаление и редактирование сущесвтующих туров, а так же добаволение, редактирование и удаления пользователей.

В проекте использоуется логирование ошибок и событий для возможности контролировать работу приложения и возможные ошибки. 

## **Используемые инструменты:**

- **Django** 5.1.3
- **SQLite**
- **Python 3.12.7**
- **Pillow** (для работы с изображениями)
- **Logging** (для логирования действий и ошибок)

## **Зависимости**

Для работы проекта требуется установить следующие зависимости:

- asgiref==3.8.1
- Django==5.1.3
- pillow==11.0.0
- sqlparse==0.5.2
- tzdata==2024.2

## **Установка проекта и его запуск**

### 1. Клонируйте репозиторий

```bash
git clone https://github.com/Andrej10best/Django_DIPLOMA.git
```

### 2. Создайте виртуальное окружение и активируйте его

```bash
python -m venv .venv
source .venv/bin/activate   # для Linux/MacOS
.\\.venv\Scripts\activate      # для Windows
```
### 3. Установите зависимости

```bash
pip install -r requirements.txt
```
###  4. Заготовленная база данных уже имеется, поэтому миграция не нужна

### 5. Создайте суперпользователя для доступа к админ-панели

```bash
python manage.py createsuperuser
```

### 6. Перейдите в директорию проекта

```bash
cd .\Tour_PROJECT\
```

### 6. Запустите сервер

```bash
python manage.py runserver
```

Приложение доступно по адресу: http://127.0.0.1:8000/.

## Структура проекта

```
Django_DIPLOMA
├── Tour_PROJECT
│   ├── Tour_PROJECT
│   │   ├── __init__.py                         # Инициализация пакета приложения
│   │   ├── asgi.py                             # Конфигурация ASGI для асинхронного сервера
│   │   ├── settings.py                         # Настройки проекта Django
│   │   ├── urls.py                             # Определение маршрутов URL для проекта
│   │   └── wsgi.py                             # Конфигурация WSGI для запуска приложения на сервере
│   ├── db.sqlite3                              # Файл базы данных SQLite
│   ├── logs.log                                # Файл для логирования событий приложения
│   ├── manage.py                               # Файл управления проектом
│   ├── static                                  # Папка для статических файлов (CSS, изображения и т.д.)
│   │   ├── css                                 # Подкаталог для CSS файлов
│   │   │   ├── base_page_style.css             # Основной стиль для страниц
│   │   │   ├── book_tour_page_style.css        # Стиль для страницы бронирования тура
│   │   │   ├── error_page_style.css            # Стиль для страницы ошибки
│   │   │   ├── list_tours_page_style.css       # Стиль для страницы списка туров
│   │   │   └── success_book_page_style.css     # Стиль для страницы успешного бронирования
│   │   ├── image                               # Папка для изображений
│   │   │   └── img_tour                        # Подкаталог для изображений туров
│   │   │       ├── Грузия.jpg                  # Изображение тура в Грузии
│   │   │       ├── Камчатка.jpg                # Изображение тура на Камчатке
│   │   │       ├── Карелия.jpg                 # Изображение тура в Карелии
│   │   │       └── Северная_Осетия.jpg         # Изображение тура в Северной Осетии
│   │   └── site_background                     # Папка для фоновых изображений сайта
│   │       └── back_img.jpg                    # Фоновое изображение сайта
│   ├── templates                               # Папка для HTML-шаблонов
│   │   ├── base_page.html                      # Основной шаблон страницы
│   │   ├── book_tour_page.html                 # Шаблон для страницы бронирования тура
│   │   ├── errors                              # Папка для шаблонов ошибок
│   │   │   ├── empty_list_tours_page.html      # Шаблон для страницы с пустым списком туров
│   │   │   └── error_page.html                 # Шаблон для страницы с ошибкой
│   │   ├── list_tours_page.html                # Шаблон для страницы списка туров
│   │   └── success_book_page.html              # Шаблон для страницы успешного бронирования
│   └── web_site                                # Основное приложение веб-сайта
│       ├── __init__.py                         # Инициализация пакета приложения
│       ├── admin.py                            # Конфигурация административной панели Django
│       ├── apps.py                             # Конфигурация приложения
│       ├── forms.py                            # Определение форм для обработки данных
│       ├── migrations                          # Папка для миграций базы данных
│       ├── models.py                           # Определение моделей данных
│       ├── tests.py                            # Тесты для приложения
│       └── views.py                            # Определение представлений (views) для обработки запросов
├── example_image                               # Папка для тестовых загрузок изображений через админ панель
│   ├── Махачкала.jpg                           # Пример изображения (город)
│   ├── Пятигорск.jpg                           # Пример изображения (город)
│   └── Ушгули.jpg                              # Пример изображения (село)
├── requirements.txt                            # Файл с зависимостями проекта (библиотеки и их версии)
└── README.md                                   # Этот файл
```

## Использование админ-панели

- при переходе по адресу http://127.0.0.1:8000/admin открывается админ-панель, в которой необходимо ввести данные суперпользователя (админа) для взаимодействия с данными туров и пользователей.

## Логирование

Логирование осуществляется с помощью модуля logging. Вся информация, а так же ошибки записываются в файл logs.log

## Прочее

- Если перед проверкой данного проекта открывались другие проекты, рекомендуется очистить файлы, сохраненные в кеше браузера, а затем переходить по локальному адресу http://127.0.0.1:8000 (без очистки кеша возможны неправильные отображения CSS стилей).
- Так же для удобства просмотров логов в IDE рекомендуется установить кодировку windows-1251 в файлах формата .log, для корректного отображения русских символов.

## Контакты

Вы можете связаться со мной по электронной почте:
Ваш Andrej10best@yandex.ru